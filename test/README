In this directory (or the one above) you can "make check" to run
a series of tests on ../src/xvi.

Each test is an executable file whose name starts with four digits and a hyphen.
Tests that begin with less than four digits are for unresolved issues and are
not run automatically by "make check".

One day the tests will be divided into sections, a thousand for POSIX tests,
a thousand for regression tests for fixed issue XXX and so on.
At present, the numbers are mostly random, with 0XXX being a regression test
for issue XXX.

The syntax of a test file is fairly horrible because the test mechanism is based
on Don Libes' "tkterm",(*) which is written in the fairly horrible language TCL,
with its bizarre string quoting rules and lame lists represented as strings.
Worse, "sleep 1" is sometimes needed between exp_send and term_expect
for it to work - check for calls to "tksleep" in the files here.

*) See his paper "Automation and Testing of Character-Graphic Programs"
   and his book "Exploring Expect", chapter 19, p.448 onwards.

On Debian systems, you need to
    apt-get install expect tclsh

It normally runs on an X display because tkterm uses the TK text widget.
You can run it (only as root) without an X display by going:
	sudo apt-get install xserver-xorg-video-dummy
	sudo make nox

Another way to avoid needing X or root is to say
	TKTERM=virterm make check
but it doesn't work properly yet.

To run other vi clones against this test suite, you can use
	VI=nvi make check
or
	VI="vim -c redraw" make check

	Martin Guy <martinwguy@gmail.com>, December 2016 - February 2017.
